### Версия 1.0
### Для диспетчеров и инженерно-технических специалистов

## 1. Введение

Специалисты Центрального диспетчерского управления АО «Мосводоканал» ежедневно обрабатывают огромные массивы технологических данных в режиме реального времени. Отсутствие инструментов прогнозирования затрудняет заблаговременное реагирование на потенциальные нарушения.

**Сервис аналитики и прогнозирования** предназначен для автоматической обработки данных счетчика учетов горячей и холодной воды в многоквартирных жилых домах. Сервис позволяет формировать графики расходов воды, осуществлять прогнозирование и предупреждение рисков.

Сервис аналитики и прогнозирования предназначен для автоматической обработки данных счетчиков учета горячей и холодной воды в многоквартирных жилых домах. Сервис решает следующие задачи:

- ***Визуализация***: Формирование графиков расходов воды и температурных режимов.

- ***Аналитика***: Выявление аномалий в исторических данных.

- ***Прогнозирование***: Оценка вероятности возникновения инцидентов.

- ***Адаптация***: Дообучение моделей машинного обучения для поддержания высокой точности прогнозов.

## 2. Структура интерфейса

Интерфейс сервиса является модульным и состоит из трех основных блоков, между которыми можно переключаться для выполнения различных задач.

- ***Аналитика***: Просмотр исторических данных, выявление аномалий и выгрузка отчетов.

- ***Предиктивная модель***: Мониторинг текущих и исторических прогнозов вероятности инцидентов.

- ***Обучение модели***: Обновление и валидация алгоритмов машинного обучения.

Для перехода между блоками нажмите соответствующую кнопку в верхней части интерфейса.
![](instruction_img/1_title.png)

## 3. Аналитический блок: Мониторинг и анализ исторических данных

### 3.1. Просмотр данных по домам
1. В блоке ***Аналитика*** найдите панель выбора параметров.

2. В ячейке ***Выбор дома*** выберите из выпадающего списка номер нужного дома.

3. В ячейке ***Период отображения*** выберите временной интервал для анализа: 1, 3 или 12 месяцев.

После выбора параметров система автоматически обновит информацию:

- ***Сводная статистика***: Обновятся ячейки с ключевыми показателями по выбранному дому (средний расход, пиковые значения и т.д.).

- ***Визуализация***: Ниже появятся графики расходов горячей и холодной воды, а также температурные режимы горячего водоснабжения.


![](instruction_img/home_1.png)
*Рисунок 1: Панель выбора дома и периода*

![](instruction_img/home_2.png)
*Рисунок 2: Пример визуализации данных по дому*

### 3.2. Выгрузка данных
Для экспорта данных в файл для последующего использования в отчетах или внешнем анализе:

1. Настройте параметры отображения (дом и период), как описано в п. 3.1.

2. Над соответствующим графиком найдите и нажмите кнопку ***Export***.

3. Данные будут выгружены в файле формата Excel.
![](instruction_img/home_3.png)
*Рисунок 3: Кнопки выгрузки данных*

### 3.3. Выявление аномалий
Графики в аналитическом блоке автоматически выделяют аномальные значения, что позволяет быстро идентифицировать периоды потенциальных неисправностей.

- ***Аномалии расхода***: Резкие всплески или падения на графике, не соответствующие типовому профилю потребления, могут указывать на утечку, несанкционированный отбор или неисправность прибора учета.

- ***Аномалии температуры***: Отклонения от нормативного диапазона подачи горячей воды требуют внимания диспетчера.

![](instruction_img/home_4.png)
*Рисунок 4: Пример графика с визуализацией аномалий*

## 4. Предиктивный блок: Мониторинг прогнозов

Этот блок предназначен для проактивного-мониторинга и позволяет заблаговременно выявлять риски возникновения инцидентов

### 4.1. Общий вид панели прогнозирования
На основной панели блока «Прогнозирование» в режиме реального времени отображаются текущие прогнозы от трех моделей машинного обучения:

- *Модель 1*: Прогнозирует вероятность инцидента на 4 часа вперед.

- *Модель 2*: Прогнозирует вероятность инцидента на 24 часа вперед.

- *Модель 3*: Прогнозирует вероятность инцидента на 72 часа вперед.

Цветовая индикация (например, зеленый/желтый/красный) быстро сигнализирует об уровне опасности для каждого дома.

Рекомендуемое действие: При появлении сигнала "высокая вероятность инцидента" (красный) диспетчер должен инициировать проверку объекта аварийной службой.

![](instruction_img/predict_2.png)
*Рисунок 5: Общая панель мониторинга прогнозов*



### 4.2. Детальный анализ по дому
Для более глубокого анализа вы можете просмотреть исторические данные и прогнозы по конкретному дому.

1. Выберите номер дома и период отображения в соответствующем фильтре.

2. На графике отобразятся:

- *Исторические данные* расхода воды.

- *Исторические прогнозы* моделей (вероятность инцидента в процентах).

- *Текущий прогноз* на ближайшие периоды.

Это позволяет оценить, как развивалась ситуация и насколько точными были предыдущие прогнозы.
![](instruction_img/predict_3.png)
*Рисунок 6: Детальный вид прогнозов для конкретного дома (например, дом 34)*

## 5. Блок обучения модели

```ВНИМАНИЕ! Данный блок предназначен для квалифицированных специалистов (аналитиков данных, инженеров). Неправильное дообучение моделей может привести к значительному ухудшению качества прогнозов в продуктивной системе.```

Дообучение моделей требуется в двух основных случаях:
1. ***«Старение» модели***: Точность прогнозов со временем снижается из-за изменения характера данных.
2. ***Расширение системы***: При подключении новых домов с иными характеристиками.

**Порядок работы**:

1. Перейдите в блок «Обучение модели».

2. Определите модель которую желаете дообучить и выбирете количество итераций (от 5 до 1000). Чем больше итераций тем точнее модель, но дольше процесс обучения.

3. Для тестового запуска (без внесения изменений в продуктивную систему) нажмите кнопку «Обучить модель».

4. В графе «Лог обучения» отобразится прогресс и результаты обучения, включая ключевую метрики точности

5. Решение о внедрении: Если новые метрики точности стабильно превышают старые (сравните с эталонными значениями), нажмите кнопку «Обучить и сохранить».

6. После подтверждения дообученная модель будет загружена в продуктовый контур и начнет использоваться для оперативного прогнозирования.

![](instruction_img/learn_1.png)
*Рисунок 7: Интерфейс блока дообучения моделей*

## 6. Контакты технической поддержки

В случае возникновения проблем, не описанных в данной инструкции, обращайтесь:

*tg: @kolyadavydov*